{"version":3,"file":"commonHelpers.js","sources":["../src/js/spinner.js","../src/js/refs.js","../src/js/getPhotos.js","../src/js/createMarkUp.js","../src/main.js"],"sourcesContent":["import { Spinner } from 'spin.js';\nconst spinnerContainer = document.querySelector('.js-backdrop');\n\nconst opts = {\n  lines: 8, // The number of lines to draw\n  length: 33, // The length of each line\n  width: 4, // The line thickness\n  radius: 26, // The radius of the inner circle\n  scale: 0.6, // Scales overall size of the spinner\n  corners: 0.5, // Corner roundness (0..1)\n  speed: 1.6, // Rounds per second\n  rotate: 0, // The rotation offset\n  animation: 'spinner-line-fade-quick', // The CSS animation name for the lines\n  direction: 1, // 1: clockwise, -1: counterclockwise\n  color: '#ffffff', // CSS color or array of colors\n  fadeColor: 'transparent', // CSS color or array of colors\n  top: '49%', // Top position relative to parent\n  left: '50%', // Left position relative to parent\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\n  zIndex: 2000000000, // The z-index (defaults to 2e9)\n  className: 'spinner', // The CSS class to assign to the spinner\n  position: 'absolute', // Element positioning\n};\n\nconst spinner = new Spinner(opts);\n\nexport const spinnerPlay = () => {\n  spinnerContainer.classList.remove('is-hidden');\n  spinner.spin(spinnerContainer);\n};\n\nexport const spinnerStop = () => {\n  spinnerContainer.classList.add('is-hidden');\n  spinner.stop();\n};\n","export const imgContainer = document.querySelector('.img-container');\nexport const BASE_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '41741201-12a642cf53882fe64e8e82723';\nexport const formEl = document.querySelector('.search-form');","import axios from 'axios';\n\nexport const getPhotos = (query, page) => {\n\n  const url = 'https://pixabay.com/api/';\n  const params = {\n    key: '41741201-12a642cf53882fe64e8e82723', \n    query,\n    page,\n    per_page: 40,\n    orientation: 'portrait',\n  };\n\n  return axios.get(url, { params: params });\n};","export const createMarkUp = array => {\n  return array.map(\n    image => `<div class=\"img-item\">\n      <a href=\"${image.webformatURL}\" class=\"lightbox-link\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n      </a>\n      <div class=\"image-info\">\n        <p>Likes: ${image.likes}</p>\n        <p>Views: ${image.views}</p>\n        <p>Comments: ${image.comments}</p>\n        <p>Downloads: ${image.downloads}</p>\n      </div>\n    </div>`\n  ).join('');\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { spinnerPlay, spinnerStop } from './js/spinner';\nimport { imgContainer, formEl } from './js/refs';\nimport { getPhotos } from './js/getPhotos';\nimport { createMarkUp } from './js/createMarkUp';\n\nconst handleSubmit = event => {\n  event.preventDefault();\n  spinnerPlay();\n\n  const searchQuery = event.currentTarget.elements.query.value.trim();\n  imgContainer.innerHTML = '';\n\n  if (searchQuery !== '') {\n    getPhotos(query, page)\n      .then(data => {\n        imgContainer.innerHTML = createMarkUp(data.hits);\n        const lightbox = new SimpleLightbox('.lightbox-link');\n        lightbox.refresh();\n      })\n      .catch(error => {\n        console.error(error);\n      })\n      .finally(() => {\n        spinnerStop();\n      })\n  } else {\n    spinnerStop();\n    return iziToast.warning({\n      position: 'center',\n      message: 'Please enter a search query.',\n    });\n  }\n};\n\nformEl.addEventListener('submit', handleSubmit);\n"],"names":["spinnerContainer","opts","spinner","Spinner","spinnerPlay","spinnerStop","imgContainer","formEl","getPhotos","query","page","url","params","axios","createMarkUp","array","image","handleSubmit","event","searchQuery","data","SimpleLightbox","error","iziToast"],"mappings":"2wBACA,MAAMA,EAAmB,SAAS,cAAc,cAAc,EAExDC,EAAO,CACX,MAAO,EACP,OAAQ,GACR,MAAO,EACP,OAAQ,GACR,MAAO,GACP,QAAS,GACT,MAAO,IACP,OAAQ,EACR,UAAW,0BACX,UAAW,EACX,MAAO,UACP,UAAW,cACX,IAAK,MACL,KAAM,MACN,OAAQ,sBACR,OAAQ,IACR,UAAW,UACX,SAAU,UACZ,EAEMC,EAAU,IAAIC,EAAQF,CAAI,EAEnBG,EAAc,IAAM,CAC/BJ,EAAiB,UAAU,OAAO,WAAW,EAC7CE,EAAQ,KAAKF,CAAgB,CAC/B,EAEaK,EAAc,IAAM,CAC/BL,EAAiB,UAAU,IAAI,WAAW,EAC1CE,EAAQ,KAAI,CACd,EClCaI,EAAe,SAAS,cAAc,gBAAgB,EAGtDC,EAAS,SAAS,cAAc,cAAc,ECD9CC,EAAY,CAACC,EAAOC,IAAS,CAExC,MAAMC,EAAM,2BACNC,EAAS,CACb,IAAK,qCACL,MAAAH,EACA,KAAAC,EACA,SAAU,GACV,YAAa,UACjB,EAEE,OAAOG,EAAM,IAAIF,EAAK,CAAE,OAAQC,CAAM,CAAE,CAC1C,ECdaE,EAAeC,GACnBA,EAAM,IACXC,GAAS;AAAA,iBACIA,EAAM;AAAA,oBACHA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA,oBAGlCA,EAAM;AAAA,oBACNA,EAAM;AAAA,uBACHA,EAAM;AAAA,wBACLA,EAAM;AAAA;AAAA,WAG9B,EAAI,KAAK,EAAE,ECJLC,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EACpBd,IAEA,MAAMe,EAAcD,EAAM,cAAc,SAAS,MAAM,MAAM,OAG7D,GAFAZ,EAAa,UAAY,GAErBa,IAAgB,GAClBX,EAAU,MAAO,IAAI,EAClB,KAAKY,GAAQ,CACZd,EAAa,UAAYQ,EAAaM,EAAK,IAAI,EAC9B,IAAIC,EAAe,gBAAgB,EAC3C,QAAO,CACxB,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,MAAMA,CAAK,CAC3B,CAAO,EACA,QAAQ,IAAM,CACbjB,GACR,CAAO,MAEH,QAAAA,IACOkB,EAAS,QAAQ,CACtB,SAAU,SACV,QAAS,8BACf,CAAK,CAEL,EAEAhB,EAAO,iBAAiB,SAAUU,CAAY"}