import{S as b,a as L,b as v,i as a}from"./assets/vendor-fe0134da.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();const l=document.querySelector(".img-container"),S="https://pixabay.com/api/",q="41741201-12a642cf53882fe64e8e82723",m=document.querySelector(".search-form"),d=document.querySelector(".js-load-more"),E=new b(".lightbox-link"),u=document.querySelector(".js-backdrop"),k={lines:8,length:33,width:4,radius:26,scale:.6,corners:.5,speed:1.6,rotate:0,animation:"spinner-line-fade-quick",direction:1,color:"#ffffff",fadeColor:"transparent",top:"49%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"},p=new L(k),h=()=>{u.classList.remove("is-hidden"),p.spin(u)},f=()=>{u.classList.add("is-hidden"),p.stop()},y=async(r,e=1,s=40)=>{try{const n=await v.get(S,{params:{key:q,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,perPage:s}});return n.data.total===0&&e===1&&(imgContainer.innerHTML="",a.info({position:"center",message:"Sorry, there are no images matching your search query. Please try again!"})),n.data}catch(n){throw console.error("Error during image search:",n),new Error("Failed to retrieve images")}},g=r=>r.map(e=>`<div class="img-item">
      <a href="${e.webformatURL}" class="lightbox-link">
        <img src="${e.webformatURL}" alt="${e.tags}">
      </a>
      <div class="image-info">
        <p>Likes: ${e.likes}</p>
        <p>Views: ${e.views}</p>
        <p>Comments: ${e.comments}</p>
        <p>Downloads: ${e.downloads}</p>
      </div>
    </div>`).join(""),w=(r,e)=>{e<r?d.classList.remove("is-hidden"):(a.info({position:"topRight",message:"We're sorry, but you've reached the end of search results."}),d.classList.add("is-hidden"))};let i=1;const x=async r=>{r.preventDefault(),h();const e=r.currentTarget.elements.query.value.trim();if(e!=="")try{const s=await y(e,1);l.insertAdjacentHTML("beforeend",g(s.hits)),E.refresh(),w(s.totalHits,i)}catch(s){a.error({position:"center",message:"An error occurred while retrieving images. Please try again later."}),console.error("Error during search:",s)}finally{f()}else f(),a.warning({position:"center",message:"Please enter a search query."})},M=async()=>{h();try{const r=m.elements.query.value.trim(),{hits:e,totalHits:s}=await y(r,i+1);l.insertAdjacentHTML("beforeend",g(e)),w(s,i+1),i++;const n=l.lastElementChild.getBoundingClientRect().height;console.log(n),window.scrollBy({top:n*5,behavior:"smooth"})}catch(r){console.error(r)}finally{f()}};m.addEventListener("submit",x);d.addEventListener("click",M);
//# sourceMappingURL=commonHelpers.js.map
