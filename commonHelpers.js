import{S as w,a as L,i as a,b as v}from"./assets/vendor-e0a036e7.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const l=document.querySelector(".js-backdrop"),S={lines:8,length:33,width:4,radius:26,scale:.6,corners:.5,speed:1.6,rotate:0,animation:"spinner-line-fade-quick",direction:1,color:"#ffffff",fadeColor:"transparent",top:"49%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"},h=new w(S),m=()=>{l.classList.remove("is-hidden"),h.spin(l)},d=()=>{l.classList.add("is-hidden"),h.stop()},u=document.querySelector(".img-container"),q="https://pixabay.com/api/",E="41741201-12a642cf53882fe64e8e82723",p=document.querySelector(".search-form"),f=document.querySelector(".js-load-more"),g=async(r,e=1,n=40)=>{try{const o=await L.get(q,{params:{key:E,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,perPage:n}});return o.data.total===0&&e===1&&(imgContainer.innerHTML="",a.info({position:"center",message:"Sorry, there are no images matching your search query. Please try again!"})),o.data}catch(o){throw console.error("Error during image search:",o),new Error("Failed to retrieve images")}},y=r=>r.map(e=>`<div class="img-item">
      <a href="${e.webformatURL}" class="lightbox-link">
        <img src="${e.webformatURL}" alt="${e.tags}">
      </a>
      <div class="image-info">
        <p>Likes: ${e.likes}</p>
        <p>Views: ${e.views}</p>
        <p>Comments: ${e.comments}</p>
        <p>Downloads: ${e.downloads}</p>
      </div>
    </div>`).join(""),b=(r,e)=>{e<r?f.classList.remove("is-hidden"):(a.info({position:"topRight",message:"We're sorry, but you've reached the end of search results."}),f.classList.add("is-hidden"))};let i=1;const k=async r=>{r.preventDefault(),m();const e=r.currentTarget.elements.query.value.trim();if(e!=="")try{const n=await g(e,1);u.insertAdjacentHTML("beforeend",y(n.hits)),new v(".lightbox-link").refresh(),b(n.totalHits,i)}catch(n){a.error({position:"center",message:"An error occurred while retrieving images. Please try again later."}),console.error("Error during search:",n)}finally{d()}else d(),a.warning({position:"center",message:"Please enter a search query."})},x=async()=>{m();try{const r=p.elements.query.value.trim(),{hits:e,totalHits:n}=await g(r,i+1);u.insertAdjacentHTML("beforeend",y(e)),b(n,i+1),i++;const o=u.lastElementChild.getBoundingClientRect().height;console.log(o),window.scrollBy({top:o*5,behavior:"smooth"})}catch(r){console.error(r)}finally{d()}};p.addEventListener("submit",k);f.addEventListener("click",x);
//# sourceMappingURL=commonHelpers.js.map
